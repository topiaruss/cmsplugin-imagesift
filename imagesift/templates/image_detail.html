{% load i18n %}
{% load thumbnail %}
{% load url from future %}

{# just change the dimensions for the cropped image, as needed. Computed and cached on first use. #}
{% thumbnail image.image geometry crop="center" as im %}

    <img class="preview" src="{{ im.url }}" {% if image.title %} alt="{{ image.title }}" {% endif %}>

{% endthumbnail %}
<br>

<dl>
  <dt>Title:</dt>
  <dd>{{ image.title }}</dd>
  <dt>Description:</dt>
  <dd>{{ image.description }}</dd>
</dl>

Here's the data...

<br>
<dl>
  <dt>Artist:</dt>
  <dd>{{ image.overrideable_photographer }}</dd>
  <dt>Event:</dt>
  <dd>{{ image.event_name }}</dd>
  <dt>Date:</dt>
  <dd>{{ image.overrideable_date }}</dd>
  <dt>Make:</dt>
  <dd>{{ image.exif_by_block.Image.Make }}</dd>
  <dt>Model:</dt>
  <dd>{{ image.exif_by_block.Image.Model }}</dd>
  <dt>Exposure Time:</dt>
  <dd>{{ image.exif_by_block.EXIF.ExposureTime }}</dd>
  <dt>Aperture:</dt>
  <dd>{{ image.exif_by_block.EXIF.ApertureValue }}</dd>
  <dt>ISO Speed:</dt>
  <dd>{{ image.exif_by_block.EXIF.ISOSpeedRatings }}</dd>
  <dt>Metering Mode:</dt>
  <dd>{{ image.exif_by_block.EXIF.MeteringMode }}</dd>
  <dt>Flash:</dt>
  <dd>{{ image.exif_by_block.EXIF.Flash }}</dd>
  <dt>Focal Length:</dt>
  <dd>{{ image.exif_by_block.EXIF.FocalLength }}</dd>
</dl>

{% comment %}
        Below are next & prev links, and a back to gallery, if the gallery page was passed in the url
{% endcomment %}

<ul>

    {% if prev != None %}
        <li class="prev">
            <a href="{% url 'imagesift:image' pk=prev.id %}?gall={{ gall_plugin.id }}&back={{ back }}" >
                ← {% trans "previous" %} {{ prev.title }}</a>
        </li>
    {% endif %}

    {% if next != None %}
        <li class="next">
            <a href="{% url 'imagesift:image' pk=next.id %}?gall={{ gall_plugin.id }}&back={{ back }}" >
                {% trans "next" %} {{ next.title }} →</a>
        </li>
    {% endif %}

    {# the back mechanism can only resolve back to the original page, not a specific gallery on that page #}
    {% if back %}
        <li class="back">
            <a href="{{ back }}" >
                {% trans "back to gallery" %}
            </a>
        </li>
    {% endif %}

</ul>


